## 计算机概述

- 历史
- 观念
- 组成
- 机制
  - 取值
  - 译码
  - 执行
- 评价
  - 指标
  - 性能

## 计算机逻辑设计基础

### 复杂性原则

- 抽象

- 约束

- 三Y原则

  > 层次化——分解
  >
  > 模块化——功能+接口
  >
  > 规整化——标准化（复用）

### 数的表示

- 十进制 <==> 二进制
- 存储
  - 原码
  - 补码，CRC，反码，移码……

### 逻辑门

> 与、或、非  <==> 布尔方程，真值表，符号

### 逻辑电平

> 连续 <==> 离散：噪声容限越多越大越好，直流传输特性

### 晶体管

nMOS导0好，pMOS导1好

功耗：静态和动态

## 计算机组合逻辑设计基础

### 基本概念

- 逻辑电路

  > 输入、输出功能规格、时序规格

- 类型

  > 组合——无记忆
  >
  > - 节点（线）
  >   - 输入
  >   - 唯一原件输出
  > - 元件——组合电路
  > - 无回路
  >
  > 时序——有记忆

### 布尔方程（组合电路）

- 作用：描述功能规格

- 标准格式

  > 最小项之和/最大项之积

- 步骤

  > 1. 确定输入输出
  > 2. 画出真值表
  > 3. 真值表妹行写出最小项/最大项
  > 4. 输出为1写出最小项之和（SOP）；输出为0写出最大项之积（POS）

### 布尔代数（化简）

- 公理

  > 变量：0,1；运算：与、或、非

- 定理

  > 单变量定理，多变量定理，德·摩根定理

### 逻辑到门

- PLD——二阶段门
- FPGA——LUT

### 四值逻辑

- 0——低
- 1——高
- X——竞争（bug）
- Z——高阻（三态）

### 组合逻辑电路

- 优先机电路——中断
- 多路复用电路——选择计算线路——FPGA
- 译码器——操作译码——最小项之和
- - - 注意：可以有多路复用电路和译码器构建组合电路

### 布尔方程化简

- 卡诺图——真值表 ==> 卡诺图 ==> 画图

  > 内容：1 或 X
  >
  > 大小：2^n
  >
  > 个数：少/大
  >
  > 边界：相邻
  >
  > - - - 运用了布尔代数

- QM方法——真值表 ==> QM表 ==> 

  -  分类
  - 合并

### 时序

- tpd——传播延迟：输入有变化到输出变化文档下来缩写的最长时间
- tcd——污染延迟：输入有变化到输出开始变化所需的最短时间

## 计算机时序逻辑设计基础

### 基本概念

- 状态——与电路未来行为有关的所有信息
- 锁存器——存放1bit的信息 电平触发——毛刺
- 触发器——存放1bit的信息 边沿触发
- 同步时序逻辑电路——组合逻辑电路+一组寄存器

### 状态元件

- 双稳态电路——两个稳定状态，无输入，不能改变
- SR锁存器—— S=1，R=1时出现非法状态（非—>或非）
- D锁存器——CLK为高是改变状态，出现毛刺（非 + 与门）
- D触发器——CLK边沿触发（背靠背）

### 同步时序电路

- 规则

  - 元件

    > 触发器 或 组合逻辑电路
    >
    > 至少一个触发器

  - 时钟——所以触发器有同一个时钟控制

  - 回路——触发器断开

- 类型

  - FSM
  - 流水线

### FSM（有限状态机）

- 类型
  - Moore
  - Mealy
- 步骤
  - 确定输入和输出
  - 画状态转换图
  - 对于Moore型状态机
    - 写出状态转换表
    - 写出输出表
  - 对于Mealy型状态机
    - 写出组合的状态转换和输出表
  - 选择状态编码——这个选择将影响硬件设计
  - 为下一状态和输出写出布尔表达式
  - 画出电路草图

## 同步时序电路设计

### FSM

- 类型
- 步骤
- 分解

### 时序

- 时钟同时到达

  > - 建立时间约束：
  >   $$
  >   tpd <= Tc - ( tpcq + tsetup )
  >   $$
  >
  > - 保持时间约束
  >   $$
  >   tcd >= thold - tccq
  >   $$

- 时钟偏斜

  > - 建立时间约束：
  >   $$
  >   tpd <= Tc - (tpcq + tsetup + tskew )
  >   $$
  >
  > - 保持时间约束：
  >   $$
  >   tcd >= thold + tskew - tccq
  >   $$

- 

### 并行





## HDL(SystemVerilog)

### 概念

- HDL——描述硬件功能的语言

- 类型

  > - Verilog/SystemVerilog——类C/C++
  > - VHDL——Ada

- HDL —> 门

  > - 仿真——给激励信号
  >
  > - 综合——HDL —翻译—> NetList
  >
  >   - > ASIC——CMOS
  >     >
  >     > FPGA——LVT

### 建模

- 类型

  > - 行为建模	“低层”
  > - 结果建模        “高层”

- 模块

  > - 以module开头，以endmodule结尾
  >
  > - 接口
  >
  >   - > input，output，inout

- 变量——logic(wires, reg)——0，1，X，Z

- 常量—— N'B value

  - > N——位的个数
    >
    > B——进制
    >
    > value——值

- 运算——NOT，算术，移位，关系，逻辑，按位运算

- 语句——assign，实例化，注释，initial，阻塞赋值，延时

- 内部函数——$dumpfile，$dumpvars，$finish

## HDL建模

### always语句

- 通用形式——always@(敏感信号)
- D锁存器——always_latch
- D触发器——always_ff
- 组合逻辑——always_comb

- - - 注意：logic：0，1，X，Z
    - integer/int：0，1（其余会强转成0）

### 复合语句（用于always中的initial）

- 条件：if、if else、if else if……
- 多路条件：case……endcase，注意default
- 顺序：begin……end

### 赋值结构

- 阻塞赋值：=（顺序赋值）

- 非阻塞赋值：<=（同时赋值）

- 规则

  - > 1. 同步时序逻辑：always_ff / 非阻塞赋值
    > 2. 组合逻辑
    >    1. 简单——assign
    >    2. 复杂——always_comb / 阻塞赋值
    > 3. 不能再always或assgin中对同一变量赋值（竞争）

### 枚举类型

- 定义： typedef enum 类型 宽度{枚举值} 类型名

- 使用：枚举类型名 元件名

  > typedef enum logic [1:0] {S0, S1, S2} statetype;
  >
  > statetype  state, nextstate;
  >
  > 注意这里的S0，S1，S2会自动分配，默认从小到大

### 参数化模块

- 定义：module 名称 #(parameter 参数名 = 值)(input ...   ,  output ...) ..... endmodule
- 使用：模块名 #(参数值) 实例名

### 测试模块

> 1. module 名字；
> 2. 定义局部信号
> 3. 实例化被测模块
> 4. 产生时钟，用always语句
> 5. 利用initial语句初值名
> 6. 利用always语句在时钟上升沿激励信号
> 7. 利用always语句在时钟下降沿比较被测模块输入与期望值

## 算术逻辑电路

## 运算与存储单元设计

## 计算机运算存储电路设计

## 计算机存储电路设计

## 计算机体系结构

## 计算机体系结构设计

## 计算机体系结构设计

## 计算机体系结构设计

## 计算机为体系结构设计